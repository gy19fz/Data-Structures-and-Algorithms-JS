<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>计数排序</title>
<body>
<script>

// 非累加

function countingSort(array){
  if(!Array.isArray(array) || array.length < 1)return
  let min = array[0]
  let max = array[0]
  for(let i = 0; i < array.length; i++){
    min = Math.min(min, array[i])
    max = Math.max(max, array[i])
  }

  let countArr =  new Array(max - min + 1).fill(0)

  for(let i = 0; i < array.length; i++){
    countArr[array[i] - min]++
  }

  let arrayIndex = 0

  for(let i = 0; i < countArr.length; i++){
    while(countArr[i] > 0){
      array[arrayIndex] = min+i;
      countArr[i]--
      arrayIndex++
    }
  }
  console.log(array)
  return array
}

// 累加

function countingSortACL(array){
  if(!Array.isArray(array) || array.length < 2)return
  let min = array[0]
  let max = array[0]
  for(let i = 0; i < array.length; i++){
    min = Math.min(min, array[i])
    max = Math.max(max, array[i])
  }

  let countArr =  new Array(max - min + 1).fill(0)

  for(let i = 0; i < array.length; i++){
    countArr[array[i] - min]++
  }
 
  for(let i = 1; i < countArr.length; i++){
    countArr[i] = countArr[i] + countArr[i-1]
  }
  
  let output = []
  for(let i = 0; i < array.length; i++){
    output[countArr[array[i] - min] - 1] = array[i]
    countArr[array[i] - min]--
  }
  
  console.log(output)
  return output
}

countingSortACL([2,3,3,6,5,4,3,1,7])

</script>
</body>
</head>
</html>